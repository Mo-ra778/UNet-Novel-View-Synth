<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø­Ø§ÙƒØ§Ø© ØªÙˆØ²ÙŠØ¹ ÙÙŠØ¨ÙˆÙ†Ø§ØªØ´ÙŠ Ù„Ù„ÙƒØ§Ù…ÙŠØ±Ø§Øª</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background-color: #0f172a;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: white;
        }

        #info {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(0, 0, 0, 0.7);
            padding: 15px;
            border-radius: 8px;
            width: 300px;
            pointer-events: none;
            border: 1px solid #334155;
        }

        h1 {
            margin: 0 0 10px 0;
            font-size: 18px;
            color: #38bdf8;
        }

        p {
            font-size: 14px;
            line-height: 1.5;
            margin-bottom: 5px;
        }

        .highlight {
            color: #facc15;
            font-weight: bold;
        }

        #controls {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255, 255, 255, 0.1);
            padding: 10px 20px;
            border-radius: 30px;
            display: flex;
            gap: 15px;
            backdrop-filter: blur(5px);
        }

        button {
            background: #38bdf8;
            border: none;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: bold;
            color: #0f172a;
            transition: 0.2s;
        }

        button:hover {
            background: #7dd3fc;
            transform: scale(1.05);
        }
    </style>
    <!-- Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ù…ÙƒØªØ¨Ø© Three.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
</head>

<body>

    <div id="info">
        <h1>Ù…Ø­Ø§ÙƒØ§Ø© ØªÙˆØ²ÙŠØ¹ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§Øª ğŸ¥</h1>
        <p>Ù‡Ø°Ø§ Ø§Ù„Ù…Ø¬Ø³Ù… ÙŠÙˆØ¶Ø­ ÙƒÙŠÙ Ù†ÙˆØ²Ø¹ Ø§Ù„Ù€ <span class="highlight">60 Ø²Ø§ÙˆÙŠØ©</span> Ø­ÙˆÙ„ Ø§Ù„Ø¹Ù†ØµØ±.</p>
        <p>Ù„Ø§Ø­Ø¸ ÙƒÙŠÙ Ø£Ù† Ø§Ù„Ù†Ù‚Ø§Ø· (Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§Øª) ØªØºØ·ÙŠ ÙƒÙ„ Ø§Ù„Ø§ØªØ¬Ø§Ù‡Ø§Øª Ø¨Ù…Ø³Ø§ÙØ§Øª Ù…ØªØ³Ø§ÙˆÙŠØ© ØªÙ…Ø§Ù…Ø§Ù‹ØŒ Ù…Ø«Ù„ Ø¨Ø°ÙˆØ± Ø²Ù‡Ø±Ø© Ø¹Ø¨Ø§Ø¯ Ø§Ù„Ø´Ù…Ø³ ğŸŒ».</p>
        <p style="margin-top:10px; font-size:12px; color:#94a3b8;">* ÙŠÙ…ÙƒÙ†Ùƒ ØªØ¯ÙˆÙŠØ± Ø§Ù„Ù…Ø´Ù‡Ø¯ Ø¨Ø§Ù„Ù…Ø§ÙˆØ³ Ù„Ù„ØªÙØ­Øµ.</p>
    </div>

    <div id="controls">
        <button onclick="toggleGeometry()">ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ø´ÙƒÙ„ (ÙƒØ±Ø©/Ù…ÙƒØ¹Ø¨)</button>
        <button onclick="animateCamera()">ØªØ¯ÙˆÙŠØ± ØªÙ„Ù‚Ø§Ø¦ÙŠ</button>
    </div>

    <script>
        let scene, camera, renderer, controls;
        let pointsGroup;
        let centralObject;
        let isAutoRotating = true;
        let isSphere = true;

        function init() {
            // 1. Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù…Ø´Ù‡Ø¯
            scene = new THREE.Scene();
            scene.background = new THREE.Color(0x0f172a);
            scene.fog = new THREE.Fog(0x0f172a, 10, 50);

            // 2. Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ (Ø¹ÙŠÙ† Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯)
            camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.set(0, 5, 10);

            // 3. Ø§Ù„Ù…Ø®Ø±Ø¬ (Renderer)
            renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            document.body.appendChild(renderer.domElement);

            // 4. Ø§Ù„ØªØ­ÙƒÙ… Ø¨Ø§Ù„Ù…Ø§ÙˆØ³
            controls = new THREE.OrbitControls(camera, renderer.domElement);
            controls.enableDamping = true;
            controls.autoRotate = true;
            controls.autoRotateSpeed = 2.0;

            // 5. Ø§Ù„Ø¥Ø¶Ø§Ø¡Ø©
            const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
            scene.add(ambientLight);
            const pointLight = new THREE.PointLight(0xffffff, 1);
            pointLight.position.set(10, 10, 10);
            scene.add(pointLight);

            // 6. Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ù†ØµØ± Ø§Ù„Ù…Ø±ÙƒØ²ÙŠ (Ø§Ù„Ø°ÙŠ Ù†ØµÙˆØ±Ù‡)
            createCentralObject();

            // 7. Ø¥Ø¶Ø§ÙØ© Ù†Ù‚Ø§Ø· Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ (Fibonacci Sphere)
            createFibonacciSphere(60);

            // 8. Ø¨Ø¯Ø¡ Ø§Ù„Ø­Ø±ÙƒØ©
            window.addEventListener('resize', onWindowResize, false);
            animate();
        }

        function createCentralObject() {
            if (centralObject) scene.remove(centralObject);

            const geometry = isSphere
                ? new THREE.SphereGeometry(1.5, 32, 32)
                : new THREE.BoxGeometry(2, 2, 2);

            const material = new THREE.MeshStandardMaterial({
                color: 0x38bdf8,
                roughness: 0.3,
                metalness: 0.7,
                wireframe: true
            });

            centralObject = new THREE.Mesh(geometry, material);
            scene.add(centralObject);
        }

        function createFibonacciSphere(samples) {
            pointsGroup = new THREE.Group();
            const radius = 5; // Ø¨Ø¹Ø¯ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ Ø¹Ù† Ø§Ù„Ù…Ø±ÙƒØ²
            const phi = Math.PI * (3 - Math.sqrt(5)); // Ø§Ù„Ø²Ø§ÙˆÙŠØ© Ø§Ù„Ø°Ù‡Ø¨ÙŠØ©

            for (let i = 0; i < samples; i++) {
                // Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø§Øª Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ© Ù„ØªÙˆØ²ÙŠØ¹ ÙÙŠØ¨ÙˆÙ†Ø§ØªØ´ÙŠ
                const y = 1 - (i / (samples - 1)) * 2; // Ù…Ù† 1 Ø¥Ù„Ù‰ -1
                const r = Math.sqrt(1 - y * y); // Ù†ØµÙ Ø§Ù„Ù‚Ø·Ø± Ø¹Ù†Ø¯ Ù‡Ø°Ø§ Ø§Ù„Ø§Ø±ØªÙØ§Ø¹
                const theta = phi * i; // Ø²Ø§ÙˆÙŠØ© Ø§Ù„Ø¯ÙˆØ±Ø§Ù†

                const x = Math.cos(theta) * r;
                const z = Math.sin(theta) * r;

                // ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª Ø¥Ù„Ù‰ Ù…ÙˆØ¶Ø¹ ÙØ¹Ù„ÙŠ
                const position = new THREE.Vector3(x, y, z).multiplyScalar(radius);

                // Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø¬Ø³Ù… Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ (Ù…Ø®Ø±ÙˆØ· ØµØºÙŠØ±)
                const camGeo = new THREE.ConeGeometry(0.2, 0.5, 8);
                camGeo.rotateX(Math.PI / 2); // ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ Ù„Ù„Ù…Ø±ÙƒØ²
                const camMat = new THREE.MeshBasicMaterial({ color: 0xfacc15 });
                const camMesh = new THREE.Mesh(camGeo, camMat);

                camMesh.position.copy(position);
                camMesh.lookAt(0, 0, 0); // Ø§Ø¬Ø¹Ù„ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ ØªÙ†Ø¸Ø± Ù„Ù„Ù…Ø±ÙƒØ²

                // Ø¥Ø¶Ø§ÙØ© Ø®Ø· ÙŠØ±Ø¨Ø· Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ Ø¨Ø§Ù„Ù…Ø±ÙƒØ² (Ø´Ø¹Ø§Ø¹ Ø§Ù„Ù†Ø¸Ø±)
                const lineGeo = new THREE.BufferGeometry().setFromPoints([position, new THREE.Vector3(0, 0, 0)]);
                const lineMat = new THREE.LineBasicMaterial({ color: 0xffffff, transparent: true, opacity: 0.1 });
                const line = new THREE.Line(lineGeo, lineMat);

                pointsGroup.add(camMesh);
                pointsGroup.add(line);
            }
            scene.add(pointsGroup);
        }

        function animate() {
            requestAnimationFrame(animate);
            if (isAutoRotating) controls.update();
            renderer.render(scene, camera);
        }

        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        }

        // Ø¯ÙˆØ§Ù„ Ø§Ù„Ø£Ø²Ø±Ø§Ø±
        window.toggleGeometry = function () {
            isSphere = !isSphere;
            createCentralObject();
        }

        window.animateCamera = function () {
            isAutoRotating = !isAutoRotating;
            controls.autoRotate = isAutoRotating;
        }

        init();
    </script>
</body>

</html>